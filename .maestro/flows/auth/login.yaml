appId: host.exp.Exponent
---
# üîê Test: Login Flow
# Para Expo Go: Aseg√∫rate de que la app est√© corriendo y en la pantalla de login

# NO usamos launchApp con Expo Go porque cierra la sesi√≥n de desarrollo
# En su lugar, solo esperamos a que la UI est√© lista

- waitForAnimationToEnd

# Verificar que estamos en la pantalla de login
- assertVisible: "¬°Bienvenido!"

# Completar formulario
- tapOn: 
    id: "email-input"
- inputText: "user@tourline.com"

- tapOn:
    id: "password-input"
- inputText: "User123456"

# Cerrar el teclado
- hideKeyboard

# Hacer login
- tapOn:
    id: "login-button"

# Esperar a que procese el login
- waitForAnimationToEnd
- waitForAnimationToEnd

# Cerrar di√°logo de notificaciones (buscar OK en cualquier idioma)
- runFlow:
    when:
      visible:
        text: "OK"
        index: 0
    commands:
      - tapOn: 
          text: "OK"
          index: 0
      - waitForAnimationToEnd

# Esperar un poco m√°s
- waitForAnimationToEnd

# Manejar di√°logo de guardar contrase√±a iOS
- runFlow:
    when:
      visible: "Ahora no"
    commands:
      - tapOn: "Ahora no"
      - waitForAnimationToEnd
      - waitForAnimationToEnd

# Esperar a que todo se estabilice
- waitForAnimationToEnd
- waitForAnimationToEnd
- waitForAnimationToEnd

# Verificar que estamos en Home (buscar por texto primero, es m√°s confiable)
- extendedWaitUntil:
    visible: "Inicio"
    timeout: 10000

# Verificar que las tabs est√°n visibles
- assertVisible: "Inicio"
- assertVisible: "Explorar"
- assertVisible: "Perfil"
